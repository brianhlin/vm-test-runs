###################
# OSG 3.6 tests for XRootD
# File format documention:
# https://github.com/opensciencegrid/vm-test-runs#running-osg-test-in-vm-universe
###################

platforms:
  - centos_7_x86_64
  - sl_7_x86_64
  - centos_8_x86_64
  - centos_stream_8_x86_64
  - rocky_8_x86_64

sources:
  - opensciencegrid:xrootd-for-3.6; 3.6; osg-prerelease
  - opensciencegrid:xrootd-for-3.6; 3.6; osg > osg-prerelease
  - opensciencegrid:xrootd-for-3.6; 3.5; osg, osg-upcoming > 3.6/osg-prerelease
  - opensciencegrid:xrootd-for-3.6; 3.5; osg > 3.6/osg-prerelease

package_sets:
  #### Required ####
  # label - used for reporting, should be consistent across param files
  # packages - list of packages to install in the test run
  #### Optional ####
  # selinux - enable SELinux for the package set, otherwise Permissive mode (default: True)
  # osg_java - Pre-install OSG java packages (default: False)
  # rng - Install entropy generation package (default: False)
  ##################
  - label: StashCache (3.6)
    packages:
      - stashcache-client
      - stash-cache
      - stash-origin
      - python3-gfal2-util
      - gfal2-all
  - label: XRootD (3.6)
    packages:
      - osg-xrootd-standalone
      - xrootd-multiuser
      - xrootd-client
      - voms-clients-cpp
      # below required for setting up a voms server; not needed for voms-proxy-direct
      - voms-server
      - voms-mysql-plugin
      - mariadb
      - mariadb-server
